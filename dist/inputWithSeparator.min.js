!function(){angular.module("input.with.separator",[]).directive("inputWithSeparator",function(){return{restrict:"E",scope:{numberSystem:"=",model:"=ngModel",disabled:"=ngDisabled",required:"=ngRequired"},require:"?ngModel",template:"<input ng-model='value'  ng-change='onChange()' ng-trim='false' ng-disabled='disabled' ng-required='required'>",link:function(e,n,a,r){e.$watch("model",function(){e.onChange()}),e.onChange=function(){if(r){var n=a.numberSystem;if(!angular.isUndefined(e.value)){var t=e.value.toString();if("International"==n){for(var i=t.replace(/[^0-9.]/g,""),l=0,d="",u="",o=0;o<i.length;o++)d=i.charAt(o),"."==d?l<=0&&(u+=d,l++):u+=d;var g="";l>0&&(g="."+u.split(".")[1]),u=u.split(".")[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),u+=g,e.value=u,r.$setViewValue(i)}else if("Indian"==n){for(i=t.trim().replace(/[^0-9.]/g,""),l=0,d="",u="",o=0;o<i.length;o++)d=i.charAt(o),"."==d?l<=0&&(u+=d,l++):u+=d;g="",l>0&&(g="."+u.split(".")[1]),u=u.split(".")[0].replace(/(\d)(?=(\d\d)+\d$)/g,"$1,"),u+=g,e.value=u,r.$setViewValue(i)}}}},r.$render=function(){e.value=r.$modelValue,e.separatorStyle=r.$separatorStyle}}}})}();