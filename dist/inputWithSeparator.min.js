!function(){angular.module("input.with.separator",[]).directive("inputWithSeparator",[function(){return{restrict:"E",scope:{numberSystem:"=",model:"=ngModel",disabled:"=ngDisabled",required:"=ngRequired",blur:"&ngBlur",focus:"&ngFocus",clazz:"=ngClass"},require:"?ngModel",template:"<input ng-model='value'  ng-change='onChange()' ng-trim='false' ng-disabled='disabled' ng-required='required' ng-class='clazz' ng-blur='blur()' ng-focus='focus()'>",link:function(e,n,a,l){e.$watch("model",function(){e.onChange()}),e.onChange=function(){if(l&&null!=e.value&&!angular.isUndefined(e.value)){var n=a.numberSystem;if(angular.isUndefined(e.value))return void(e.model=void 0);var r=e.value.toString();if("International"==n){for(var i=r.replace(/[^0-9.]/g,""),t=0,u="",d="",o=0;o<i.length;o++)u=i.charAt(o),"."==u?t<=0&&(d+=u,t++):d+=u;var g="";t>0&&(g="."+d.split(".")[1]),d=d.split(".")[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),d+=g,e.value=d,l.$setViewValue(i)}else if("Indian"==n){for(i=r.trim().replace(/[^0-9.]/g,""),t=0,u="",d="",o=0;o<i.length;o++)u=i.charAt(o),"."==u?t<=0&&(d+=u,t++):d+=u;g="",t>0&&(g="."+d.split(".")[1]),d=d.split(".")[0].replace(/(\d)(?=(\d\d)+\d$)/g,"$1,"),d+=g,e.value=d,l.$setViewValue(i)}}},l.$render=function(){e.value=l.$modelValue,e.separatorStyle=l.$separatorStyle}}}}])}();